{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = confirm;\nexports.withWarn = withWarn;\nexports.withInfo = withInfo;\nexports.withSuccess = withSuccess;\nexports.withError = withError;\nexports.withConfirm = withConfirm;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar ReactDOM = _interopRequireWildcard(require(\"react-dom\"));\n\nvar _InfoCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/InfoCircleOutlined\"));\n\nvar _CheckCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CheckCircleOutlined\"));\n\nvar _CloseCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleOutlined\"));\n\nvar _ExclamationCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleOutlined\"));\n\nvar _locale = require(\"./locale\");\n\nvar _Modal = require(\"./Modal\");\n\nvar _ConfirmDialog = _interopRequireDefault(require(\"./ConfirmDialog\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nfunction confirm(config) {\n  var div = document.createElement('div');\n  document.body.appendChild(div); // eslint-disable-next-line no-use-before-define\n\n  var currentConfig = _extends(_extends({}, config), {\n    close: close,\n    visible: true\n  });\n\n  function destroy() {\n    var unmountResult = ReactDOM.unmountComponentAtNode(div);\n\n    if (unmountResult && div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, args);\n    }\n\n    for (var i = 0; i < _Modal.destroyFns.length; i++) {\n      var fn = _Modal.destroyFns[i]; // eslint-disable-next-line no-use-before-define\n\n      if (fn === close) {\n        _Modal.destroyFns.splice(i, 1);\n\n        break;\n      }\n    }\n  }\n\n  function render(_a) {\n    var okText = _a.okText,\n        cancelText = _a.cancelText,\n        props = __rest(_a, [\"okText\", \"cancelText\"]);\n\n    var runtimeLocale = (0, _locale.getConfirmLocale)();\n    ReactDOM.render(React.createElement(_ConfirmDialog[\"default\"], _extends({}, props, {\n      okText: okText || (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText),\n      cancelText: cancelText || runtimeLocale.cancelText\n    })), div);\n  }\n\n  function close() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    currentConfig = _extends(_extends({}, currentConfig), {\n      visible: false,\n      afterClose: destroy.bind.apply(destroy, [this].concat(args))\n    });\n    render(currentConfig);\n  }\n\n  function update(newConfig) {\n    currentConfig = _extends(_extends({}, currentConfig), newConfig);\n    render(currentConfig);\n  }\n\n  render(currentConfig);\n\n  _Modal.destroyFns.push(close);\n\n  return {\n    destroy: close,\n    update: update\n  };\n}\n\nfunction withWarn(props) {\n  return _extends({\n    type: 'warning',\n    icon: React.createElement(_ExclamationCircleOutlined[\"default\"], null),\n    okCancel: false\n  }, props);\n}\n\nfunction withInfo(props) {\n  return _extends({\n    type: 'info',\n    icon: React.createElement(_InfoCircleOutlined[\"default\"], null),\n    okCancel: false\n  }, props);\n}\n\nfunction withSuccess(props) {\n  return _extends({\n    type: 'success',\n    icon: React.createElement(_CheckCircleOutlined[\"default\"], null),\n    okCancel: false\n  }, props);\n}\n\nfunction withError(props) {\n  return _extends({\n    type: 'error',\n    icon: React.createElement(_CloseCircleOutlined[\"default\"], null),\n    okCancel: false\n  }, props);\n}\n\nfunction withConfirm(props) {\n  return _extends({\n    type: 'confirm',\n    okCancel: true\n  }, props);\n}","map":{"version":3,"sources":["modal/confirm.jsx"],"names":["__rest","t","Object","e","s","i","p","div","document","currentConfig","close","visible","args","unmountResult","ReactDOM","triggerCancel","param","config","destroyFns","fn","okText","cancelText","_a","props","runtimeLocale","afterClose","destroy","render","update","type","icon","okCancel"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport InfoCircleOutlined from '@ant-design/icons/InfoCircleOutlined';\nimport CheckCircleOutlined from '@ant-design/icons/CheckCircleOutlined';\nimport CloseCircleOutlined from '@ant-design/icons/CloseCircleOutlined';\nimport ExclamationCircleOutlined from '@ant-design/icons/ExclamationCircleOutlined';\nimport { getConfirmLocale } from './locale';\nimport { destroyFns } from './Modal';\nimport ConfirmDialog from './ConfirmDialog';\nexport default function confirm(config) {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    // eslint-disable-next-line no-use-before-define\n    let currentConfig = Object.assign(Object.assign({}, config), { close, visible: true });\n    function destroy(...args) {\n        const unmountResult = ReactDOM.unmountComponentAtNode(div);\n        if (unmountResult && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n        const triggerCancel = args.some(param => param && param.triggerCancel);\n        if (config.onCancel && triggerCancel) {\n            config.onCancel(...args);\n        }\n        for (let i = 0; i < destroyFns.length; i++) {\n            const fn = destroyFns[i];\n            // eslint-disable-next-line no-use-before-define\n            if (fn === close) {\n                destroyFns.splice(i, 1);\n                break;\n            }\n        }\n    }\n    function render(_a) {\n        var { okText, cancelText } = _a, props = __rest(_a, [\"okText\", \"cancelText\"]);\n        const runtimeLocale = getConfirmLocale();\n        ReactDOM.render(<ConfirmDialog {...props} okText={okText || (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText)} cancelText={cancelText || runtimeLocale.cancelText}/>, div);\n    }\n    function close(...args) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), { visible: false, afterClose: destroy.bind(this, ...args) });\n        render(currentConfig);\n    }\n    function update(newConfig) {\n        currentConfig = Object.assign(Object.assign({}, currentConfig), newConfig);\n        render(currentConfig);\n    }\n    render(currentConfig);\n    destroyFns.push(close);\n    return {\n        destroy: close,\n        update,\n    };\n}\nexport function withWarn(props) {\n    return Object.assign({ type: 'warning', icon: <ExclamationCircleOutlined />, okCancel: false }, props);\n}\nexport function withInfo(props) {\n    return Object.assign({ type: 'info', icon: <InfoCircleOutlined />, okCancel: false }, props);\n}\nexport function withSuccess(props) {\n    return Object.assign({ type: 'success', icon: <CheckCircleOutlined />, okCancel: false }, props);\n}\nexport function withError(props) {\n    return Object.assign({ type: 'error', icon: <CloseCircleOutlined />, okCancel: false }, props);\n}\nexport function withConfirm(props) {\n    return Object.assign({ type: 'confirm', okCancel: true }, props);\n}\n"]},"metadata":{},"sourceType":"script"}