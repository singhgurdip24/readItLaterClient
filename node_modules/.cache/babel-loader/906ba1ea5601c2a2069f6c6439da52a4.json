{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fixControlledValue = fixControlledValue;\nexports.resolveOnChange = resolveOnChange;\nexports.getInputClassName = getInputClassName;\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _omit = _interopRequireDefault(require(\"omit.js\"));\n\nvar _ClearableLabeledInput = _interopRequireWildcard(require(\"./ClearableLabeledInput\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _SizeContext = _interopRequireDefault(require(\"../config-provider/SizeContext\"));\n\nvar _warning = _interopRequireDefault(require(\"../_util/warning\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return value;\n}\n\nfunction resolveOnChange(target, e, onChange) {\n  if (onChange) {\n    var event = e;\n\n    if (e.type === 'click') {\n      // click clear icon\n      event = Object.create(e);\n      event.target = target;\n      event.currentTarget = target;\n      var originalInputValue = target.value; // change target ref value cause e.target.value should be '' when clear input\n\n      target.value = '';\n      onChange(event); // reset target ref value\n\n      target.value = originalInputValue;\n      return;\n    }\n\n    onChange(event);\n  }\n}\n\nfunction getInputClassName(prefixCls, size, disabled, direction) {\n  var _classNames;\n\n  return (0, _classnames[\"default\"])(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames));\n}\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inherits(Input, _React$Component);\n\n  function Input(props) {\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Input).call(this, props));\n    _this.direction = 'ltr';\n\n    _this.focus = function () {\n      _this.input.focus();\n    };\n\n    _this.saveClearableInput = function (input) {\n      _this.clearableInput = input;\n    };\n\n    _this.saveInput = function (input) {\n      _this.input = input;\n    };\n\n    _this.onFocus = function (e) {\n      var onFocus = _this.props.onFocus;\n\n      _this.setState({\n        focused: true\n      });\n\n      if (onFocus) {\n        onFocus(e);\n      }\n    };\n\n    _this.onBlur = function (e) {\n      var onBlur = _this.props.onBlur;\n\n      _this.setState({\n        focused: false\n      });\n\n      if (onBlur) {\n        onBlur(e);\n      }\n    };\n\n    _this.handleReset = function (e) {\n      _this.setValue('', function () {\n        _this.focus();\n      });\n\n      resolveOnChange(_this.input, e, _this.props.onChange);\n    };\n\n    _this.renderInput = function (prefixCls, size) {\n      var _this$props = _this.props,\n          className = _this$props.className,\n          addonBefore = _this$props.addonBefore,\n          addonAfter = _this$props.addonAfter,\n          customizeSize = _this$props.size,\n          disabled = _this$props.disabled; // Fix https://fb.me/react-unknown-prop\n\n      var otherProps = (0, _omit[\"default\"])(_this.props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', // Input elements must be either controlled or uncontrolled,\n      // specify either the value prop, or the defaultValue prop, but not both.\n      'defaultValue', 'size', 'inputType']);\n      return React.createElement(\"input\", _extends({}, otherProps, {\n        onChange: _this.handleChange,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        onKeyDown: _this.handleKeyDown,\n        className: (0, _classnames[\"default\"])(getInputClassName(prefixCls, customizeSize || size, disabled, _this.direction), _defineProperty({}, className, className && !addonBefore && !addonAfter)),\n        ref: _this.saveInput\n      }));\n    };\n\n    _this.clearPasswordValueAttribute = function () {\n      // https://github.com/ant-design/ant-design/issues/20541\n      _this.removePasswordTimeout = setTimeout(function () {\n        if (_this.input && _this.input.getAttribute('type') === 'password' && _this.input.hasAttribute('value')) {\n          _this.input.removeAttribute('value');\n        }\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setValue(e.target.value, _this.clearPasswordValueAttribute);\n\n      resolveOnChange(_this.input, e, _this.props.onChange);\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props2 = _this.props,\n          onPressEnter = _this$props2.onPressEnter,\n          onKeyDown = _this$props2.onKeyDown;\n\n      if (e.keyCode === 13 && onPressEnter) {\n        onPressEnter(e);\n      }\n\n      if (onKeyDown) {\n        onKeyDown(e);\n      }\n    };\n\n    _this.renderComponent = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls,\n          direction = _ref.direction;\n      var _this$state = _this.state,\n          value = _this$state.value,\n          focused = _this$state.focused;\n      var customizePrefixCls = _this.props.prefixCls;\n      var prefixCls = getPrefixCls('input', customizePrefixCls);\n      _this.direction = direction;\n      return React.createElement(_SizeContext[\"default\"].Consumer, null, function (size) {\n        return React.createElement(_ClearableLabeledInput[\"default\"], _extends({\n          size: size\n        }, _this.props, {\n          prefixCls: prefixCls,\n          inputType: \"input\",\n          value: fixControlledValue(value),\n          element: _this.renderInput(prefixCls, size),\n          handleReset: _this.handleReset,\n          ref: _this.saveClearableInput,\n          direction: direction,\n          focused: focused,\n          triggerFocus: _this.focus\n        }));\n      });\n    };\n\n    var value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n    _this.state = {\n      value: value,\n      focused: false,\n      // eslint-disable-next-line react/no-unused-state\n      prevValue: props.value\n    };\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.clearPasswordValueAttribute();\n    } // Since polyfill `getSnapshotBeforeUpdate` need work with `componentDidUpdate`.\n    // We keep an empty function here.\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      if ((0, _ClearableLabeledInput.hasPrefixSuffix)(prevProps) !== (0, _ClearableLabeledInput.hasPrefixSuffix)(this.props)) {\n        (0, _warning[\"default\"])(this.input !== document.activeElement, 'Input', \"When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.removePasswordTimeout) {\n        clearTimeout(this.removePasswordTimeout);\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"select\",\n    value: function select() {\n      this.input.select();\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, callback) {\n      if (this.props.value === undefined) {\n        this.setState({\n          value: value\n        }, callback);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(_configProvider.ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, _ref2) {\n      var prevValue = _ref2.prevValue;\n      var newState = {\n        prevValue: nextProps.value\n      };\n\n      if (nextProps.value !== undefined || prevValue !== nextProps.value) {\n        newState.value = nextProps.value;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Input;\n}(React.Component);\n\nInput.defaultProps = {\n  type: 'text'\n};\nvar _default = Input;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["input/Input.jsx"],"names":["value","event","e","Object","originalInputValue","target","onChange","size","direction","Input","React","Component","onFocus","focused","onBlur","resolveOnChange","className","addonBefore","addonAfter","customizeSize","disabled","otherProps","getInputClassName","saveInput","setTimeout","onPressEnter","onKeyDown","getPrefixCls","customizePrefixCls","prefixCls","fixControlledValue","focus","props","prevValue","nextProps","newState","prevProps","document","clearTimeout","callback","type"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport ClearableLabeledInput, { hasPrefixSuffix } from './ClearableLabeledInput';\nimport { ConfigConsumer } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport warning from '../_util/warning';\nexport function fixControlledValue(value) {\n    if (typeof value === 'undefined' || value === null) {\n        return '';\n    }\n    return value;\n}\nexport function resolveOnChange(target, e, onChange) {\n    if (onChange) {\n        let event = e;\n        if (e.type === 'click') {\n            // click clear icon\n            event = Object.create(e);\n            event.target = target;\n            event.currentTarget = target;\n            const originalInputValue = target.value;\n            // change target ref value cause e.target.value should be '' when clear input\n            target.value = '';\n            onChange(event);\n            // reset target ref value\n            target.value = originalInputValue;\n            return;\n        }\n        onChange(event);\n    }\n}\nexport function getInputClassName(prefixCls, size, disabled, direction) {\n    return classNames(prefixCls, {\n        [`${prefixCls}-sm`]: size === 'small',\n        [`${prefixCls}-lg`]: size === 'large',\n        [`${prefixCls}-disabled`]: disabled,\n        [`${prefixCls}-rtl`]: direction === 'rtl',\n    });\n}\nclass Input extends React.Component {\n    constructor(props) {\n        super(props);\n        this.direction = 'ltr';\n        this.focus = () => {\n            this.input.focus();\n        };\n        this.saveClearableInput = (input) => {\n            this.clearableInput = input;\n        };\n        this.saveInput = (input) => {\n            this.input = input;\n        };\n        this.onFocus = e => {\n            const { onFocus } = this.props;\n            this.setState({ focused: true });\n            if (onFocus) {\n                onFocus(e);\n            }\n        };\n        this.onBlur = e => {\n            const { onBlur } = this.props;\n            this.setState({ focused: false });\n            if (onBlur) {\n                onBlur(e);\n            }\n        };\n        this.handleReset = (e) => {\n            this.setValue('', () => {\n                this.focus();\n            });\n            resolveOnChange(this.input, e, this.props.onChange);\n        };\n        this.renderInput = (prefixCls, size) => {\n            const { className, addonBefore, addonAfter, size: customizeSize, disabled } = this.props;\n            // Fix https://fb.me/react-unknown-prop\n            const otherProps = omit(this.props, [\n                'prefixCls',\n                'onPressEnter',\n                'addonBefore',\n                'addonAfter',\n                'prefix',\n                'suffix',\n                'allowClear',\n                // Input elements must be either controlled or uncontrolled,\n                // specify either the value prop, or the defaultValue prop, but not both.\n                'defaultValue',\n                'size',\n                'inputType',\n            ]);\n            return (<input {...otherProps} onChange={this.handleChange} onFocus={this.onFocus} onBlur={this.onBlur} onKeyDown={this.handleKeyDown} className={classNames(getInputClassName(prefixCls, customizeSize || size, disabled, this.direction), {\n                [className]: className && !addonBefore && !addonAfter,\n            })} ref={this.saveInput}/>);\n        };\n        this.clearPasswordValueAttribute = () => {\n            // https://github.com/ant-design/ant-design/issues/20541\n            this.removePasswordTimeout = setTimeout(() => {\n                if (this.input &&\n                    this.input.getAttribute('type') === 'password' &&\n                    this.input.hasAttribute('value')) {\n                    this.input.removeAttribute('value');\n                }\n            });\n        };\n        this.handleChange = (e) => {\n            this.setValue(e.target.value, this.clearPasswordValueAttribute);\n            resolveOnChange(this.input, e, this.props.onChange);\n        };\n        this.handleKeyDown = (e) => {\n            const { onPressEnter, onKeyDown } = this.props;\n            if (e.keyCode === 13 && onPressEnter) {\n                onPressEnter(e);\n            }\n            if (onKeyDown) {\n                onKeyDown(e);\n            }\n        };\n        this.renderComponent = ({ getPrefixCls, direction }) => {\n            const { value, focused } = this.state;\n            const { prefixCls: customizePrefixCls } = this.props;\n            const prefixCls = getPrefixCls('input', customizePrefixCls);\n            this.direction = direction;\n            return (<SizeContext.Consumer>\n        {size => (<ClearableLabeledInput size={size} {...this.props} prefixCls={prefixCls} inputType=\"input\" value={fixControlledValue(value)} element={this.renderInput(prefixCls, size)} handleReset={this.handleReset} ref={this.saveClearableInput} direction={direction} focused={focused} triggerFocus={this.focus}/>)}\n      </SizeContext.Consumer>);\n        };\n        const value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n        this.state = {\n            value,\n            focused: false,\n            // eslint-disable-next-line react/no-unused-state\n            prevValue: props.value,\n        };\n    }\n    static getDerivedStateFromProps(nextProps, { prevValue }) {\n        const newState = { prevValue: nextProps.value };\n        if (nextProps.value !== undefined || prevValue !== nextProps.value) {\n            newState.value = nextProps.value;\n        }\n        return newState;\n    }\n    componentDidMount() {\n        this.clearPasswordValueAttribute();\n    }\n    // Since polyfill `getSnapshotBeforeUpdate` need work with `componentDidUpdate`.\n    // We keep an empty function here.\n    componentDidUpdate() { }\n    getSnapshotBeforeUpdate(prevProps) {\n        if (hasPrefixSuffix(prevProps) !== hasPrefixSuffix(this.props)) {\n            warning(this.input !== document.activeElement, 'Input', `When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ`);\n        }\n        return null;\n    }\n    componentWillUnmount() {\n        if (this.removePasswordTimeout) {\n            clearTimeout(this.removePasswordTimeout);\n        }\n    }\n    blur() {\n        this.input.blur();\n    }\n    select() {\n        this.input.select();\n    }\n    setValue(value, callback) {\n        if (this.props.value === undefined) {\n            this.setState({ value }, callback);\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderComponent}</ConfigConsumer>;\n    }\n}\nInput.defaultProps = {\n    type: 'text',\n};\nexport default Input;\n"]},"metadata":{},"sourceType":"script"}